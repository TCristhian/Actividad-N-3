<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionario</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" 
integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

</head>

<body>
    

    <!-- Aquí comienza el NavBar -->
    
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="inicio.html">Inicio</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="quienessomos.html">¿Quiénes somos?</a>
        </li>

        <li class="nav-item active">
          <a class="nav-link" href="cuestionario.html">¿Te animás a jugar?<span class="sr-only">(current)</span></a>
        </li>

        <li class="nav-item active">
          <a class="nav-link" href="contacto.html">Contacto<span class="sr-only">(current)</span></a>
        </li>

      </ul>
    </div>
  </nav>

  <!-- Aquí comienza el cuestionario -->

    <section class="container-game ">

        <div  class="container-sm text-center mt-4">
            <h1>Cuestionario</h1>
            <br>
            <div style="border: 2px solid black; " class="quizy container-fluid">
            <h3 class="mt-2" style="height: 800; color: rgb(211, 14, 14);" ><b>¿Quién es el Bajista de Posdata?</b></h3>
            <img class="img-fluid" style="width: 20rem; height: 15rem; border: 1px solid green; margin-bottom: 1rem; margin-top: 1rem;" src="img/banner.jpg" alt="Cripto Bitcoin">
            <div class="alert alert-info container-fluid " id="alertaIntentos" role="alert">
                Usted posee <b><u>cinco</u></b> intentos:
              </div>
              <div style="color: rgb(100, 56, 221);" class="mb-2" id="pistas">

              </div>
            <input class="usuarioResp" type="text" id="userRespuesta"  placeholder="Escriba aqui si respuesta">
            
              <div id="victory-image" class="image-victory">
              </div>

            <div >
                <button onclick="validarRespuesta()" type="button" class="btn-enviar btn btn-primary mt-3">Comprobar</button>
                <br>
                <br>
            </div>
            </div>
            
        </div>

    </section>

    <!-- Comienzo de JS -->
    <script>

        // Tomar elementos según su ID
        const alerta = document.getElementById('alertaIntentos');
        const pistas = document.getElementById('pistas');
        const imgVictoria = document.getElementById('victory-image')

        var intentos =  5;
        var ganaste = false;


        function validarRespuesta() {
            event.preventDefault();

            const respuestaCorrecta = "Martín"
            let respuestaUser = document.getElementById("userRespuesta").value;

            if (respuestaCorrecta == respuestaUser && intentos >= 1) {
                ganaste = true;
                victoria();
                intentos = 0;
            } else if (respuestaCorrecta !== respuestaUser && intentos == 5) {
                intentos = intentos - 1
                alerta.innerHTML = "► Respuesta equivocada. ¡Te quedan 4 intentos!";
                alerta.classList.add("alert-dark")
                alerta.classList.remove("alert-info")
                
            } else if (respuestaCorrecta !== respuestaUser && intentos == 4) {
                intentos = intentos - 1
                alerta.innerHTML = "► Respuesta equivocada. ¡Te quedan 3 intentos!";
                pistas.innerHTML = "Pista 1/3: es el nombre de un Santo Católico."
                alerta.classList.add("alert-secondary")
                alerta.classList.remove("alert-dark")
                
            } else if (respuestaCorrecta !== respuestaUser && intentos == 3) {
                intentos = intentos - 1
                alerta.innerHTML = "► ¡Cuidado, solo te quedan 2 intentos!";
                pistas.innerHTML = "Pista 2/3: no es Martín, tampoco Cristhian."
                alerta.classList.add("alert-warning")
                alerta.classList.remove("alert-dark")

            } else if (respuestaCorrecta !== respuestaUser && intentos == 2) {
                intentos = intentos - 1
                alerta.innerHTML = "► ¡Estás en problemas, solo te queda un intento!";
                pistas.innerHTML = "Pista 3/3: no es Manuel, tampoco Lucas."
                alerta.classList.add("alert-danger")
                alerta.classList.remove("alert-warning")
                
            } else if (respuestaCorrecta !== respuestaUser && intentos == 1) {
                intentos = intentos - 1
                derrota();
            } else {
                if (ganaste) {
                    victoria();
                } else {
                    derrota();
                }
            }

          
        }

        function victoria() {
            alerta.innerHTML = "<b>¡Felicidades, eres nuestro fan N°1!</b>";
            alerta.classList.add("alert-success")
            alerta.classList.remove("alert-info")
            alerta.classList.remove("alert-dark")
            alerta.classList.remove("alert-secondary")
            alerta.classList.remove("alert-warning")
            alerta.classList.remove("alert-danger")
            imgVictoria.innerHTML = '<br><img src="img/Martín.jpg" class="img-fluid">'
        }

        function derrota() {
            alerta.innerHTML = "¡Has perdido! Presiona F5";
            pistas.innerHTML = '<a href="javascript:location.reload()">¿Quieres volver a intentarlo?</a>'
        }

    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>


    <!-- Footer -->
    
  <div class="footer-copyright text-center py-3">© 2020 Copyright:
    <a href="https://www.facebook.com/tasistro"> Tasistro Cristhian</a>
  </div>
  
</body>

</html>